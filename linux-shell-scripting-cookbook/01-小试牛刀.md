# 01-小试牛刀

---

- [终端打印](#终端打印)
- [玩转变量与环境变量](#玩转变量与环境变量)
- [数学运算](#数学运算)

---

## 终端打印

* 不带引号的`echo` - 不会将含有空格的字符串视作整体输出
* 带单引号的`echo` - 所见即所得，内容原样输出
* 带双引号的`echo` - 如果内容中有命令、变量，会先**解析**再输出 

注意，`echo`会默认将一个换行符追加到输出文本末尾，可以使用`-n`来忽略结尾换行符！如需使用**转义序列**，则采用`echo -e "包含转义序列的字符串"`的形式！

## 玩转变量与环境变量

环境变量是未在当前进程中定义，从父进程继承来的变量！`export`命令用来设置环境变量，此后，从**当前**脚本执行的任何程序都会继承这个变量！

```bash
# 查看进程在运行时的环境变量
pgrep gedit
# $PID为上述命令返回的具体数字
# 默认返回以null即\0分割，将\0替换为\n重新格式化
cat /proc/$PID/environ | tr '\0' '\n'
```

* 变量**赋值**和**判等** - `var=value` vs `var = value`
* 变量**取值** - `echo $var` 或 `echo ${var}` 
* 获得**字符串长度** - `length=${#var}`
* 识别**当前**`Shell` - `echo $SHELL`
* 检查是否为**超级用户** - `if [ $UID -ne 0]`，`root`用户的`UID`为0

## 数学运算

* 整数运算

```bash
# let - 变量名之前不需要再添加$
let result=no1+no2
let result++
let result--

# [] - []中变量可以添加$也可以不添加$
result=$[no1+no2]
result=$[$no1+5]

# (())
result=$((no1+1))
result=$(($no1+1))
```

* 浮点数运算

```bash
echo "4 * 0.56" | bc

# 其他参数可置于要执行的具体操作前，以分号为定界符，通过stdin传给bc

# 设定小数精度
echo "scale=2;3/8" | bc => 0.37

# 进制转换
echo "obase=2;100" | bc => 1100100

# 平方/平方根
echo "sqrt(100)" | bc => 10
echo "10^2" | bc => 100
```
